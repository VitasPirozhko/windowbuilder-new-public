{"version":3,"sources":["components/Help/Route.js"],"names":["MarkdownRoute","props","value","setValue","React","useState","fname","location","pathname","replace","startsWith","substr","history","push","fetch","$p","job_prm","docs_root","then","res","text","markdown","catch","err","message"],"mappings":"kHAAA,6EAIe,SAASA,EAAcC,GACpC,MAAOC,EAAOC,GAAYC,IAAMC,SAAS,8BAEzC,IAAIC,EAAQC,SAASC,SAASC,QAAQ,QAAS,IAgB/C,OAfGH,EAAMI,WAAW,KAClBJ,EAAQA,EAAMK,OAAO,GAEdL,GACPL,EAAMW,QAAQC,KAAQN,SAASC,SAAX,KAEtBM,MAAO,GAAEC,GAAGC,QAAQC,YAAYX,GAAS,cACtCY,KAAMC,GACEA,EAAIC,QAEZF,KAAMG,IACLlB,EAASkB,KAEVC,MAAOC,GAAQpB,EAASoB,EAAIC,SAAWD,IAEnC,kBAAC,IAAD,CAAcF,SAAUnB","file":"static/js/40.23fa3ee1.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport MarkdownDocs from 'metadata-react/Markdown/MarkdownDocsLight';\r\n\r\nexport default function MarkdownRoute(props) {\r\n  const [value, setValue] = React.useState('Получаем файл с сервера...');\r\n\r\n  let fname = location.pathname.replace('/help', '');\r\n  if(fname.startsWith('/')) {\r\n    fname = fname.substr(1);\r\n  }\r\n  else if(!fname) {\r\n    props.history.push(`${location.pathname}/`);\r\n  }\r\n  fetch(`${$p.job_prm.docs_root}${fname || 'index.md'}`)\r\n    .then((res) => {\r\n      return res.text();\r\n    })\r\n    .then((markdown) => {\r\n      setValue(markdown);\r\n    })\r\n    .catch((err) => setValue(err.message || err));\r\n\r\n  return <MarkdownDocs markdown={value}  />;\r\n}\r\n\r\nMarkdownRoute.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n};\r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}