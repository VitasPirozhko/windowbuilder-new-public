{"version":3,"sources":["../node_modules/metadata-react/DynList/MenuPrint.js","../node_modules/@material-ui/icons/ChevronLeft.js","../node_modules/@material-ui/icons/AttachFile.js","../node_modules/@material-ui/icons/CheckCircleOutline.js","../node_modules/@material-ui/icons/CloudUpload.js","../node_modules/@material-ui/icons/Delete.js","../node_modules/metadata-react/FrmObj/DataObjToolbar.js","../node_modules/metadata-react/DataField/FieldSelectStatic.js","../node_modules/metadata-react/FrmAttachments/AttachmentsToolbar.js","../node_modules/metadata-react/FrmAttachments/AttachmentsList.js","../node_modules/metadata-react/FrmAttachments/Attachments.js","../node_modules/metadata-react/FrmAttachments/index.js","../node_modules/metadata-react/FrmObj/DataObj.js","../node_modules/metadata-react/SchemeSettings/SchemeSettingsObj.js"],"names":["SubMenu","args","state","anchorEl","handleOpen","event","setState","currentTarget","handleClose","this","props","items","Icon","text","handlePrint","prefix","variant","React","createElement","IconButton","key","onClick","MenuItem","ListItemIcon","Menu","open","Boolean","anchorOrigin","vertical","horizontal","transformOrigin","onClose","map","v","ref","name","Component","MenuPrint","plates","_mgr","scheme","child_meta","printing_plates","then","groups","Map","plate","group","includes","substr","indexOf","trim","get","set","push","forEach","value","length","PrintIcon","index","ChevronLeft","propTypes","_interopRequireDefault","require","Object","defineProperty","exports","default","_react","_default","d","DataObjToolbar","undefined","handleClick","handleRequestClose","showMenu","handleAttachments","Toolbar","disableGutters","className","classes","toolbar","handleSaveClose","read_only","Button","title","size","spaceLeft","handleSave","SaveIcon","postable","posted","SendIcon","deletable","deleted","handleMarkDeleted","RemoveIcon","buttons","Typography","color","flex","MoreVertIcon","_obj","_manager","AttachIcon","menu_buttons","closeButton","CloseIcon","withStyles","_extends","assign","target","i","arguments","source","prototype","hasOwnProperty","call","apply","FieldSelectStatic","_fld","options","extClasses","fullWidth","label_position","bar","_meta","onChange","attr","tooltip","synonym","valueOf","FormControl","control","cn","formControl","barInput","InputLabel","label","Select","native","input","Input","required","toString","AbstractField","AttachmentsToolbar","short","handleAdd","UploadIcon","handleDownload","DownloadIcon","handleDelete","AttachmentsList","list","_attachments","att","menuItem","handleSelect","onDoubleClick","Avatar","avatar","lastIndexOf","ListItemText","inset","primary","secondary","round","content_type","MenuList","theme","margin","backgroundColor","palette","main","common","white","icon","Attachments","context","fileChange","files","res","$p","utils","job_prm","msg","mime_lookup","Promise","resolve","module","constructor","file","attachment_max_size","Error","file_size","save_attachment","load","forceUpdate","catch","err","dialog","file_download","message","click","file_select","handleDeleteFinish","delete_attachment","handleCloseDialog","url","pouch_db","class_name","window","tbProps","dnr","listProps","el","type","multiple","style","display","Dialog","actions","LoadingMessage","MDNRComponent","PropTypes","object","_acl","string","match","func","handleIfaceState","renderItems","customComponents","item","Array","isArray","element","fld","light","cond_value","is_folder","DataField","fields","FieldSelect","FormGroup","Divider","height","TabularSection","_tabular","AppBar","position","Tabs","handleValueChange","Tab","Cmp","DataObj","model","print","handleError","onDataChange","obj","is_tabular","_owner","shouldComponentUpdate","_handlers","bind","handlePost","handleCloseAttachments","metadata","params","num","by_num","load_linked_refs","on","update","mixin","rows","off","is_new","unload","post","save","component","presentation","reason","handlers","base","handleNavigate","old_value","elements","struct","exclude","DocObj","row","CatObj","code_length","main_presentation_name","has_owners","hierarchical","ts","tabular_sections","keys","denyDel","readOnly","toolbar_props","form","renderFields","renderTabularSections","noSpace","ltitle","FrmAttachments","marginBottom","obj_presentation","_modified","bool","isRequired","stub","SchemeSettingsObj","SchemeSettingsTabs","handleSchemeChange","withIface"],"mappings":"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","file":"static/js/8.26254e2b.chunk.js","sourcesContent":["/**\n * Каскадер печатных форм\n *\n * @module MenuPrint\n *\n * Created by Evgeniy Malyarov on 15.05.2019.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport PrintIcon from '@material-ui/icons/Print';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\n\nclass SubMenu extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      anchorEl: null\n    };\n\n    this.handleOpen = event => {\n      this.setState({\n        anchorEl: event.currentTarget\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        anchorEl: null\n      });\n    };\n  }\n\n  render() {\n    const {\n      props: {\n        items,\n        Icon,\n        text,\n        handlePrint,\n        prefix,\n        variant\n      },\n      state: {\n        anchorEl\n      }\n    } = this;\n    return [variant === 'button' ? /*#__PURE__*/React.createElement(IconButton, {\n      key: \"btn_open\",\n      onClick: this.handleOpen\n    }, /*#__PURE__*/React.createElement(Icon, null)) : /*#__PURE__*/React.createElement(MenuItem, {\n      key: `${prefix}_open`,\n      onClick: this.handleOpen\n    }, Icon && /*#__PURE__*/React.createElement(ListItemIcon, null, /*#__PURE__*/React.createElement(Icon, null)), text), /*#__PURE__*/React.createElement(Menu, {\n      key: `${prefix}_menu`,\n      open: Boolean(anchorEl),\n      anchorEl: anchorEl,\n      anchorOrigin: {\n        vertical: 'top',\n        horizontal: 'left'\n      },\n      transformOrigin: {\n        vertical: 'top',\n        horizontal: 'right'\n      },\n      onClose: this.handleClose\n    }, anchorEl && items.map(v => /*#__PURE__*/React.createElement(MenuItem, {\n      key: v.ref,\n      onClick: () => {\n        handlePrint(v);\n        this.handleClose();\n      }\n    }, v.name)))];\n  }\n\n}\n\nclass MenuPrint extends SubMenu {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      anchorEl: null,\n      plates: []\n    };\n  }\n\n  componentDidMount() {\n    const {\n      _mgr\n    } = this.props.scheme.child_meta();\n    _mgr && _mgr.printing_plates().then(plates => {\n      const groups = new Map();\n\n      for (const key in plates) {\n        const plate = plates[key];\n        const group = plate.name.includes('/') ? plate.name.substr(0, plate.name.indexOf('/')).trim() : 'Общее';\n\n        if (!groups.get(group)) {\n          groups.set(group, []);\n        }\n\n        groups.get(group).push(plate);\n      }\n\n      plates = [];\n      groups.forEach((value, name) => plates.push({\n        name,\n        value\n      }));\n      this.setState({\n        plates\n      });\n    });\n  }\n\n  render() {\n    const {\n      props: {\n        handlePrint,\n        variant\n      },\n      state: {\n        anchorEl,\n        plates\n      }\n    } = this;\n\n    if (plates.length === 1) {\n      return /*#__PURE__*/React.createElement(SubMenu, {\n        items: plates[0].value,\n        Icon: PrintIcon,\n        text: \"Печать\",\n        handlePrint: handlePrint,\n        prefix: \"root\",\n        variant: variant\n      });\n    }\n\n    return [variant === 'button' ? /*#__PURE__*/React.createElement(IconButton, {\n      key: \"btn_open\",\n      onClick: this.handleOpen\n    }, /*#__PURE__*/React.createElement(PrintIcon, null)) : /*#__PURE__*/React.createElement(MenuItem, {\n      key: \"prn_open\",\n      onClick: this.handleOpen\n    }, /*#__PURE__*/React.createElement(ListItemIcon, null, /*#__PURE__*/React.createElement(PrintIcon, null)), \"Печать\"), /*#__PURE__*/React.createElement(Menu, {\n      key: \"prn_menu\",\n      open: Boolean(anchorEl),\n      anchorEl: anchorEl,\n      anchorOrigin: {\n        vertical: 'top',\n        horizontal: 'left'\n      },\n      transformOrigin: {\n        vertical: 'top',\n        horizontal: 'right'\n      },\n      onClose: this.handleClose\n    }, anchorEl && plates.map((plate, index) => /*#__PURE__*/React.createElement(SubMenu, {\n      key: `prn_${index}`,\n      items: plate.value,\n      Icon: ChevronLeft,\n      text: plate.name,\n      handlePrint: handlePrint,\n      prefix: `prn_${index}`\n    })))];\n  }\n\n}\n\nMenuPrint.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  scheme: PropTypes.object.isRequired,\n  // значение настроек компоновки\n  handlePrint: PropTypes.func.isRequired,\n  // обработчик открытия диалога печати\n  variant: PropTypes.string // использовать IconButton вместо MenuItem\n\n} : {};\nexport default MenuPrint;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}), 'ChevronLeft');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z\"\n}), 'AttachFile');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'CheckCircleOutline');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z\"\n}), 'CloudUpload');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');\n\nexports.default = _default;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuPrint from '../DynList/MenuPrint';\nimport SaveIcon from '@material-ui/icons/Save';\nimport SendIcon from '@material-ui/icons/CheckCircleOutline';\nimport RemoveIcon from '@material-ui/icons/DeleteOutline';\nimport CloseIcon from '@material-ui/icons/Close';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport PrintIcon from '@material-ui/icons/Print';\nimport AttachIcon from '@material-ui/icons/AttachFile';\nimport withStyles from '../Header/toolbar';\nimport classnames from 'classnames';\n\nclass DataObjToolbar extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      anchorEl: undefined,\n      open: false\n    };\n\n    this.handleClick = event => {\n      this.setState({\n        open: true,\n        anchorEl: event.currentTarget\n      });\n    };\n\n    this.handleRequestClose = () => {\n      this.setState({\n        open: false\n      });\n    };\n  }\n\n  render() {\n    const {\n      props\n    } = this;\n    const showMenu = props.showMenu || props.handleAttachments || props.handlePrint;\n    return /*#__PURE__*/React.createElement(Toolbar, {\n      disableGutters: true,\n      className: props.classes.toolbar\n    }, props.handleSaveClose && !props.read_only && /*#__PURE__*/React.createElement(Button, {\n      title: \"Записать и закрыть\",\n      size: \"small\",\n      variant: \"outlined\",\n      className: props.classes.spaceLeft,\n      onClick: props.handleSaveClose\n    }, \"Записать и закрыть\"), !props.read_only && /*#__PURE__*/React.createElement(IconButton, {\n      title: \"Записать\",\n      onClick: props.handleSave\n    }, /*#__PURE__*/React.createElement(SaveIcon, null)), !props.read_only && props.postable && /*#__PURE__*/React.createElement(IconButton, {\n      title: props.posted ? 'Отменить проведение' : 'Провести',\n      onClick: () => props.handleSave(!props.posted)\n    }, /*#__PURE__*/React.createElement(SendIcon, null)), !props.read_only && props.deletable && /*#__PURE__*/React.createElement(IconButton, {\n      title: props.deleted ? 'Снять пометку удаления' : 'Пометить на удаление',\n      onClick: props.handleMarkDeleted\n    }, /*#__PURE__*/React.createElement(RemoveIcon, null)), props.buttons, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h6\",\n      color: \"inherit\",\n      className: props.classes.flex\n    }, \" \"), showMenu && /*#__PURE__*/React.createElement(IconButton, {\n      onClick: this.handleClick,\n      title: \"Дополнительно\"\n    }, /*#__PURE__*/React.createElement(MoreVertIcon, null)), /*#__PURE__*/React.createElement(Menu, {\n      anchorEl: this.state.anchorEl,\n      open: this.state.open,\n      onClose: this.handleRequestClose\n    }, props.handlePrint && /*#__PURE__*/React.createElement(MenuPrint, {\n      scheme: {\n        child_meta() {\n          return {\n            _mgr: props._obj._manager\n          };\n        }\n\n      },\n      handlePrint: ref => {\n        return props.handlePrint(ref);\n      }\n    }), props.handleAttachments && /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: props.handleAttachments\n    }, /*#__PURE__*/React.createElement(AttachIcon, null), \"  Вложения\"), props.menu_buttons), props.closeButton && /*#__PURE__*/React.createElement(IconButton, {\n      title: \"Закрыть форму\",\n      onClick: props.handleClose\n    }, /*#__PURE__*/React.createElement(CloseIcon, null)));\n  }\n\n}\n\nDataObjToolbar.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  handleSave: PropTypes.func.isRequired,\n  // обработчик добавления объекта\n  handlePost: PropTypes.func,\n  // обработчик проведения\n  handleMarkDeleted: PropTypes.func.isRequired,\n  // обработчик пометки удаления\n  handlePrint: PropTypes.func,\n  // обработчик открытия диалога печати\n  handleAttachments: PropTypes.func,\n  // обработчик открытия диалога присоединенных файлов\n  handleClose: PropTypes.func,\n  // команда Закрыть форму\n  postable: PropTypes.bool,\n  // объект можно провести-распровести\n  posted: PropTypes.bool,\n  // объект проведён\n  deletable: PropTypes.bool,\n  // объект можно пометить на удаление или снять пометку\n  deleted: PropTypes.bool // объект помечен на удаление\n\n} : {};\n;\nexport default withStyles(DataObjToolbar);","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/**\n * ### Поле ввода на базе material-ui-select\n *\n * @module FieldSelectStatic\n *\n */\nimport React from 'react';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport AbstractField from './AbstractField';\nimport withStyles from './styles';\nimport cn from 'classnames';\n\nclass FieldSelectStatic extends AbstractField {\n  render() {\n    const {\n      props: {\n        _obj,\n        _fld,\n        options,\n        classes,\n        extClasses,\n        fullWidth,\n        label_position,\n        bar,\n        className\n      },\n      _meta,\n      onChange\n    } = this;\n    const attr = {\n      title: _meta.tooltip || _meta.synonym\n    };\n\n    const value = _obj[_fld].valueOf();\n\n    return /*#__PURE__*/React.createElement(FormControl, _extends({\n      className: extClasses && extClasses.control ? '' : cn(classes.formControl, className, bar && classes.barInput),\n      classes: extClasses && extClasses.control ? extClasses.control : null,\n      fullWidth: fullWidth\n    }, attr), label_position != 'hide' && /*#__PURE__*/React.createElement(InputLabel, {\n      classes: extClasses && extClasses.label ? extClasses.label : null\n    }, _meta.synonym), /*#__PURE__*/React.createElement(Select, {\n      native: true,\n      value: value,\n      onChange: onChange,\n      input: /*#__PURE__*/React.createElement(Input, {\n        classes: Object.assign({\n          input: cn(classes.input, attr.required && !value && classes.required)\n        }, extClasses && extClasses.input)\n      })\n    }, options.map((v, key) => /*#__PURE__*/React.createElement(\"option\", {\n      key: key,\n      value: v.valueOf()\n    }, v.toString()))));\n  }\n\n}\n\nexport default withStyles(FieldSelectStatic);\nexport class ActivityOption {\n  constructor(target) {\n    this.target = target;\n  }\n\n  toString() {\n    return this.target.text;\n  }\n\n  valueOf() {\n    return this.target.value;\n  }\n\n}","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport DownloadIcon from '@material-ui/icons/CloudDownload';\nimport UploadIcon from '@material-ui/icons/CloudUpload';\nimport RemoveIcon from '@material-ui/icons/Delete';\nimport CloseIcon from '@material-ui/icons/Close';\nimport withStyles from '../Header/toolbar';\nimport classnames from 'classnames';\n\nfunction AttachmentsToolbar(props) {\n  return /*#__PURE__*/React.createElement(Toolbar, {\n    disableGutters: true,\n    className: props.classes.toolbar\n  }, !props.short && /*#__PURE__*/React.createElement(IconButton, {\n    title: \"Добавить\",\n    onClick: props.handleAdd\n  }, /*#__PURE__*/React.createElement(UploadIcon, null)), /*#__PURE__*/React.createElement(IconButton, {\n    title: \"Получить\",\n    onClick: props.handleDownload\n  }, /*#__PURE__*/React.createElement(DownloadIcon, null)), !props.short && /*#__PURE__*/React.createElement(IconButton, {\n    title: \"Удалить\",\n    onClick: props.handleDelete\n  }, /*#__PURE__*/React.createElement(RemoveIcon, null)), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    color: \"inherit\",\n    className: props.classes.flex\n  }, \" \"), props.closeButton && props.handleClose && /*#__PURE__*/React.createElement(IconButton, {\n    title: \"Закрыть форму\",\n    onClick: props.handleClose\n  }, /*#__PURE__*/React.createElement(CloseIcon, null)));\n}\n\n;\nAttachmentsToolbar.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  handleAdd: PropTypes.func,\n  handleDelete: PropTypes.func,\n  handleDownload: PropTypes.func,\n  handleClose: PropTypes.func,\n  closeButton: PropTypes.bool,\n  short: PropTypes.bool\n} : {};\nexport default withStyles(AttachmentsToolbar);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport MenuList from '@material-ui/core/MenuList';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { withStyles } from '@material-ui/styles';\nimport Avatar from '@material-ui/core/Avatar';\nimport classnames from 'classnames';\n\nconst styles = theme => ({\n  avatar: {\n    margin: 10\n  },\n  menuItem: {\n    '&:focus': {\n      backgroundColor: theme.palette.primary.main,\n      '& $primary, & $icon, & $secondary': {\n        color: theme.palette.common.white\n      }\n    }\n  },\n  primary: {},\n  icon: {},\n  secondary: {}\n});\n\nfunction AttachmentsList(props) {\n  const {\n    classes,\n    _obj\n  } = props;\n  const list = [];\n\n  if (_obj._attachments) {\n    for (const name in _obj._attachments) {\n      const att = _obj._attachments[name];\n      list.push( /*#__PURE__*/React.createElement(MenuItem, {\n        key: name,\n        className: classes.menuItem,\n        onClick: () => props.handleSelect(name),\n        onDoubleClick: () => props.handleDownload(name)\n      }, /*#__PURE__*/React.createElement(Avatar, {\n        className: classes.avatar\n      }, name.substr(name.lastIndexOf('.') + 1, 3)), /*#__PURE__*/React.createElement(ListItemText, {\n        inset: true,\n        classes: {\n          primary: classes.primary,\n          secondary: classes.secondary\n        },\n        primary: name.substr(0, name.lastIndexOf('.')),\n        secondary: `${(att.length / 1000).round(2)}Kb, ${att.content_type}`\n      })));\n    }\n  } else {\n    list.push( /*#__PURE__*/React.createElement(MenuItem, {\n      key: \"empty\",\n      className: classes.menuItem\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      className: classes.avatar\n    }, \"X\"), /*#__PURE__*/React.createElement(ListItemText, {\n      classes: {\n        primary: classes.primary\n      },\n      inset: true,\n      primary: \"Нет вложенных файлов\"\n    })));\n  }\n\n  return /*#__PURE__*/React.createElement(MenuList, null, list);\n}\n\n;\nAttachmentsList.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  _obj: PropTypes.object,\n  handleDownload: PropTypes.func.isRequired,\n  handleSelect: PropTypes.func.isRequired\n} : {};\nexport default withStyles(styles)(AttachmentsList);","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/**\n * Панель вложений\n *\n * @module Attachments\n *\n * Created by Evgeniy Malyarov on 03.05.2018.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport MDNRComponent from '../common/MDNRComponent';\nimport LoadingMessage from '../DumbLoader/LoadingMessage';\nimport AttachmentsToolbar from './AttachmentsToolbar';\nimport AttachmentsList from './AttachmentsList';\nimport Dialog from '../App/Dialog';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\n\nclass Attachments extends MDNRComponent {\n  constructor(props, context) {\n    super(props, context);\n\n    this.fileChange = ({\n      target\n    }) => {\n      if (target.files.length) {\n        let res;\n        const {\n          _obj\n        } = this.state;\n        const {\n          utils,\n          job_prm,\n          msg\n        } = $p;\n        (utils.mime_lookup ? Promise.resolve() : import('metadata-core/lib/mime.min').then(module => {\n          module.default.constructor.call($p);\n        })).then(() => {\n          for (let i = 0; i < target.files.length; i++) {\n            const file = target.files[i];\n\n            if (file.size > job_prm.attachment_max_size) {\n              throw new Error(msg.file_size + (job_prm.attachment_max_size / 1000000).round() + 'Mb');\n            }\n\n            if (res) {\n              res = res.then(() => _obj.save_attachment(file.name, file, utils.mime_lookup(file.name.substr(file.name.lastIndexOf('.') + 1))));\n            } else {\n              res = _obj.save_attachment(file.name, file, utils.mime_lookup(file.name.substr(file.name.lastIndexOf('.') + 1)));\n            }\n          }\n\n          return res;\n        }).then(() => _obj.load()).then(() => this.forceUpdate()).catch(err => {\n          // показываем диалог\n          this.setState({\n            dialog: {\n              title: msg.file_download,\n              message: err.message\n            }\n          });\n        });\n      }\n    };\n\n    this.handleAdd = () => {\n      this.input && this.input.click();\n    };\n\n    this.handleDelete = () => {\n      const {\n        name\n      } = this.state;\n\n      if (name) {\n        this.setState({\n          dialog: {\n            title: 'Удаление файла',\n            name: name,\n            message: `Удалить вложение \"${name}\"?`\n          }\n        });\n      } else {\n        this.setState({\n          dialog: {\n            title: $p.msg.file_download,\n            message: $p.msg.file_select\n          }\n        });\n      }\n    };\n\n    this.handleDeleteFinish = () => {\n      const {\n        name,\n        _obj\n      } = this.state;\n\n      _obj.delete_attachment(name).then(() => this.setState({\n        dialog: null\n      })).catch(err => {\n        // показываем диалог\n        this.setState({\n          dialog: {\n            title: $p.msg.file_download,\n            message: err.message\n          }\n        });\n      });\n    };\n\n    this.handleCloseDialog = () => {\n      this.setState({\n        dialog: null\n      });\n    };\n\n    this.handleSelect = name => {\n      this.setState({\n        name\n      });\n    };\n\n    this.handleDownload = () => {\n      const {\n        name,\n        _obj\n      } = this.state;\n\n      if (name) {\n        const url = `${_obj._manager.pouch_db.name}/${_obj.class_name}|${_obj.ref}/${name}`;\n        window.open(url, '_blank');\n      } else {\n        this.setState({\n          dialog: {\n            title: $p.msg.file_download,\n            message: $p.msg.file_select\n          }\n        });\n      }\n    };\n\n    this.state = {\n      _obj: props._obj,\n      dialog: null\n    };\n    this.input = null;\n  }\n\n  render() {\n    const {\n      state: {\n        _obj,\n        dialog\n      },\n      context,\n      props\n    } = this;\n    const tbProps = {\n      closeButton: !context.dnr,\n      handleAdd: this.handleAdd,\n      handleDelete: this.handleDelete,\n      handleDownload: this.handleDownload,\n      handleClose: props.handleClose\n    };\n    const listProps = {\n      _obj: _obj,\n      handleSelect: this.handleSelect,\n      handleDownload: this.handleDownload\n    };\n    return _obj ? [/*#__PURE__*/React.createElement(\"input\", {\n      key: \"input\",\n      ref: el => this.input = el,\n      onChange: this.fileChange,\n      type: \"file\",\n      multiple: \"1\",\n      style: {\n        display: 'none'\n      }\n    }), /*#__PURE__*/React.createElement(AttachmentsToolbar, _extends({\n      key: \"toolbar\"\n    }, tbProps)), /*#__PURE__*/React.createElement(AttachmentsList, _extends({\n      key: \"data\"\n    }, listProps)), dialog && /*#__PURE__*/React.createElement(Dialog, {\n      key: \"dialog\",\n      open: true,\n      title: dialog.title,\n      onClose: this.handleCloseDialog,\n      actions: dialog.name ? [/*#__PURE__*/React.createElement(Button, {\n        key: \"cancel\",\n        onClick: this.handleCloseDialog,\n        color: \"primary\"\n      }, \"Отмена\"), /*#__PURE__*/React.createElement(Button, {\n        key: \"ok\",\n        onClick: this.handleDeleteFinish,\n        color: \"primary\"\n      }, \"Ок\")] : /*#__PURE__*/React.createElement(Button, {\n        key: \"ok\",\n        onClick: this.handleCloseDialog,\n        color: \"primary\"\n      }, \"Ок\")\n    }, /*#__PURE__*/React.createElement(Typography, {\n      color: \"primary\"\n    }, dialog.message))] : /*#__PURE__*/React.createElement(LoadingMessage, null);\n  }\n\n}\n\nAttachments.propTypes = {\n  _obj: PropTypes.object,\n  // если объект не указан, получаем его по ссылке\n  _mgr: PropTypes.object,\n  // DataManager, с которым будет связан компонент\n  _acl: PropTypes.string,\n  // права на чтение-изменение\n  match: PropTypes.object,\n  // match роутера, из него добываем ref, можно передать fake-объект со ссылкой\n  read_only: PropTypes.object,\n  // элемент только для чтения\n  handleClose: PropTypes.func,\n  handleIfaceState: PropTypes.func\n};\nexport default Attachments;","import Attachments from './Attachments';\nexport default Attachments;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport MDNRComponent from '../common/MDNRComponent';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Divider from '@material-ui/core/Divider';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab'; // окно диалога, чтобы показать всплывающие формы\n\nimport Dialog from '../App/Dialog';\nimport LoadingMessage from '../DumbLoader/LoadingMessage';\nimport DataObjToolbar from './DataObjToolbar';\nimport DataField from '../DataField';\nimport FieldSelect from '../DataField/FieldSelect';\nimport FieldSelectStatic from '../DataField/FieldSelectStatic';\nimport TabularSection from '../TabularSection';\nimport FrmAttachments from '../FrmAttachments';\nexport function renderItems(items, customComponents) {\n  const {\n    props: {\n      _mgr,\n      classes\n    },\n    state: {\n      _obj,\n      _meta\n    }\n  } = this;\n  return items.map((item, index) => {\n    if (Array.isArray(item)) {\n      return renderItems.call(this, item, customComponents);\n    }\n\n    const {\n      element,\n      fld,\n      light,\n      cond_value,\n      items,\n      ...props\n    } = item;\n\n    if (_obj.is_folder && fld && !['id', 'name', 'owner', 'parent'].includes(fld)) {\n      return null;\n    }\n\n    switch (element) {\n      case 'DataField':\n        return /*#__PURE__*/React.createElement(DataField, _extends({\n          key: `fld_${index}`,\n          _obj: _obj,\n          _fld: fld,\n          _meta: _meta.fields[item.fld]\n        }, props));\n\n      case 'FieldSelect':\n        return /*#__PURE__*/React.createElement(FieldSelect, _extends({\n          key: `fld_${index}`,\n          _obj: _obj,\n          _fld: fld,\n          _meta: _meta.fields[item.fld]\n        }, props));\n\n      case 'FieldSelectStatic':\n        return /*#__PURE__*/React.createElement(FieldSelectStatic, _extends({\n          key: `fld_${index}`,\n          _obj: _obj,\n          _fld: fld,\n          _meta: _meta.fields[item.fld]\n        }, props));\n\n      case 'FormGroup':\n        return /*#__PURE__*/React.createElement(FormGroup, _extends({\n          key: `grp_${index}`,\n          className: classes.spaceLeft\n        }, props), renderItems.call(this, items, customComponents));\n\n      case 'Divider':\n        return /*#__PURE__*/React.createElement(Divider, {\n          light: light,\n          key: `dv_${index}`\n        });\n\n      case 'TabularSection':\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: `ts_${index}`,\n          style: {\n            height: 320\n          }\n        }, /*#__PURE__*/React.createElement(TabularSection, _extends({\n          _obj: _obj,\n          _tabular: fld\n        }, props)));\n\n      case 'Tabs':\n        return /*#__PURE__*/React.createElement(AppBar, {\n          position: \"static\",\n          color: \"default\"\n        }, /*#__PURE__*/React.createElement(Tabs, _extends({\n          key: `tabs_${index}`,\n          value: _obj[fld],\n          onChange: this.handleValueChange(fld)\n        }, props), renderItems.call(this, items, customComponents)));\n\n      case 'Tab':\n        return /*#__PURE__*/React.createElement(Tab, _extends({\n          key: `tab_${index}`,\n          value: cond_value !== undefined ? cond_value : index\n        }, props));\n\n      case 'Condition':\n        return _obj[fld] == cond_value && renderItems.call(this, items, customComponents);\n\n      default:\n        const Cmp = customComponents && customComponents[element];\n        return Cmp ? /*#__PURE__*/React.createElement(Cmp, _extends({\n          key: `fld_${index}`,\n          _obj: _obj,\n          _fld: fld,\n          _meta: _meta.fields[item.fld]\n        }, props)) : /*#__PURE__*/React.createElement(\"div\", {\n          key: index\n        }, `${element}: не реализовано в текущей версии`);\n    }\n  });\n}\n;\n\nclass DataObj extends MDNRComponent {\n  constructor(props, context) {\n    super(props, context);\n\n    this.handlePrint = model => {\n      const {\n        _obj\n      } = this.state;\n      _obj && _obj._manager.print(_obj, model);\n    };\n\n    this.handleError = err => {};\n\n    this.onDataChange = (obj, fields) => {\n      if ($p.utils.is_tabular(obj) && obj._owner._owner === this.state._obj || obj === this.state._obj) {\n        if (this.shouldComponentUpdate(this.props)) {\n          this.forceUpdate();\n        }\n      }\n    };\n\n    const {\n      _mgr,\n      _meta\n    } = props;\n    this._handlers = {\n      handleSave: this.handleSave.bind(this),\n      handlePost: this.handlePost.bind(this),\n      handleMarkDeleted: this.handleMarkDeleted.bind(this),\n      handlePrint: this.handlePrint.bind(this),\n      handleAttachments: this.handleAttachments.bind(this),\n      handleCloseAttachments: this.handleCloseAttachments.bind(this),\n      handleClose: this.handleClose.bind(this),\n      handleSaveClose: this.handleSaveClose.bind(this)\n    };\n    this.state = {\n      _meta: _meta || _mgr.metadata(),\n      _obj: null,\n      _attachments: false\n    };\n  }\n\n  componentDidMount() {\n    const {\n      _mgr,\n      match: {\n        params\n      }\n    } = this.props;\n    const get = params.num && _mgr.by_num ? _mgr.by_num(params.num) : _mgr.get(params.ref, 'promise');\n    get.then(_obj => _obj.load_linked_refs()).then(_obj => this.setState({\n      _obj\n    }, () => {\n      const {\n        onDataChange\n      } = this;\n\n      _mgr.on({\n        update: onDataChange,\n        mixin: onDataChange,\n        rows: onDataChange\n      });\n\n      this.shouldComponentUpdate(this.props);\n    })).catch(this.handleError);\n  }\n\n  componentWillUnmount() {\n    const {\n      onDataChange\n    } = this;\n\n    this.props._mgr.off({\n      update: onDataChange,\n      mixin: onDataChange,\n      rows: onDataChange\n    });\n\n    this.state._obj && this.state._obj.is_new() && this.state._obj.unload();\n  }\n\n  handlePost() {\n    return this.handleSave(true);\n  }\n\n  handleSave(post) {\n    const {\n      _obj\n    } = this.state;\n    return !_obj ? Promise.resolve() : _obj.save(typeof post === 'boolean' ? post : void 0).then(() => this.shouldComponentUpdate(this.props)).catch(err => {\n      // показываем диалог\n      this.props.handleIfaceState({\n        component: '',\n        name: 'alert',\n        value: {\n          open: true,\n          title: _obj.presentation,\n          text: err.reason || err.message\n        }\n      });\n      return err;\n    });\n  }\n\n  handleClose() {\n    const {\n      handlers,\n      _mgr\n    } = this.props;\n    const {\n      _obj\n    } = this.state;\n    const base = typeof $p === 'object' ? $p.job_prm.base : '';\n    handlers.handleNavigate(`${base || ''}/${_mgr.class_name}/list${_obj ? '/?ref=' + _obj.ref : ''}`);\n  }\n\n  handleSaveClose() {\n    this.handleSave().then(err => typeof err !== 'object' && this.handleClose());\n  }\n\n  handleMarkDeleted() {}\n\n  handleAttachments() {\n    this.setState({\n      _attachments: true\n    });\n  }\n\n  handleCloseAttachments() {\n    this.setState({\n      _attachments: false\n    });\n  }\n\n  handleValueChange(_fld) {\n    return (event, value) => {\n      const {\n        state: {\n          _obj\n        },\n        props: {\n          handlers\n        }\n      } = this;\n      const old_value = _obj[_fld];\n      _obj[_fld] = value || (event && event.target ? event.target.value : '');\n      handlers.handleValueChange && handlers.handleValueChange(_fld, old_value);\n    };\n  }\n\n  /**\n   * Render part with fields.\n   * @return {Element}\n   */\n  renderFields() {\n    const elements = [];\n    const {\n      struct\n    } = this.props;\n    const {\n      _meta,\n      _obj\n    } = this.state;\n\n    if (!struct) {\n      const exclude = ['predefined_name'];\n\n      if (_obj instanceof $p.classes.DocObj) {\n        elements.push( /*#__PURE__*/React.createElement(FormGroup, {\n          row: true,\n          key: `group_sys`\n        }, /*#__PURE__*/React.createElement(DataField, {\n          _obj: _obj,\n          key: `field_number_doc`,\n          _fld: \"number_doc\"\n        }), /*#__PURE__*/React.createElement(DataField, {\n          _obj: _obj,\n          key: `field_date`,\n          _fld: \"date\"\n        })));\n      } else if (_obj instanceof $p.classes.CatObj) {\n        _meta.code_length && elements.push( /*#__PURE__*/React.createElement(DataField, {\n          _obj: _obj,\n          key: `field_id`,\n          _fld: \"id\"\n        }));\n        _meta.main_presentation_name && elements.push( /*#__PURE__*/React.createElement(DataField, {\n          _obj: _obj,\n          key: `field_name`,\n          _fld: \"name\"\n        }));\n\n        if (_meta.has_owners) {\n          elements.push( /*#__PURE__*/React.createElement(DataField, {\n            _obj: _obj,\n            key: `field_owner`,\n            _fld: \"owner\"\n          }));\n          exclude.push('owner');\n        }\n\n        if (_meta.hierarchical) {\n          elements.push( /*#__PURE__*/React.createElement(DataField, {\n            _obj: _obj,\n            key: `field_parent`,\n            _fld: \"parent\"\n          }));\n          exclude.push('parent');\n        }\n      }\n\n      for (const _fld in _meta.fields) {\n        !exclude.includes(_fld) && elements.push( /*#__PURE__*/React.createElement(DataField, {\n          fullWidth: true,\n          key: `field_${_fld}`,\n          _obj: _obj,\n          _fld: _fld\n        }));\n      }\n    }\n\n    return elements.length === 0 ? null : /*#__PURE__*/React.createElement(FormGroup, null, elements);\n  }\n  /**\n   * Render part with tabular sections.\n   * @return {Element} [description]\n   */\n\n\n  renderTabularSections() {\n    const elements = [];\n    const {\n      _meta,\n      _obj\n    } = this.state;\n\n    for (const ts in _meta.tabular_sections) {\n      if (elements.length || Object.keys(_meta.fields).length) {\n        elements.push( /*#__PURE__*/React.createElement(Divider, {\n          light: true,\n          key: `dv_${ts}`\n        }));\n      }\n\n      elements.push( /*#__PURE__*/React.createElement(\"div\", {\n        key: `ts_${ts}`,\n        style: {\n          height: 300\n        }\n      }, /*#__PURE__*/React.createElement(TabularSection, {\n        _obj: _obj,\n        _tabular: ts\n      })));\n    }\n\n    return elements.length === 0 ? null : /*#__PURE__*/React.createElement(FormGroup, null, elements);\n  }\n\n  get ltitle() {\n    const {\n      _meta,\n      _obj\n    } = this.state;\n    let ltitle = _obj && _obj.presentation || _meta.obj_presentation || _meta.synonym;\n\n    if (_obj && _obj.is_folder) {\n      ltitle += ' (Группа)';\n    }\n\n    if (_obj && _obj._modified && ltitle[ltitle.length - 1] !== '*') {\n      ltitle += ' *';\n    }\n\n    return ltitle;\n  }\n\n  get Toolbar() {\n    return DataObjToolbar;\n  }\n\n  render() {\n    const {\n      props: {\n        _mgr,\n        classes\n      },\n      state: {\n        _obj,\n        _meta,\n        _attachments\n      },\n      context,\n      _handlers,\n      Toolbar,\n      denyDel,\n      readOnly\n    } = this;\n    const toolbar_props = Object.assign({\n      closeButton: !context.dnr,\n      posted: _obj && _obj.posted,\n      deleted: _obj && _obj.deleted,\n      postable: !!(_meta.posted || _mgr.metadata('posted')),\n      deletable: !_meta.read_only && !denyDel && !readOnly,\n      read_only: _meta.read_only || readOnly,\n      _obj\n    }, _handlers);\n    return _obj ? [/*#__PURE__*/React.createElement(Toolbar, _extends({\n      key: \"toolbar\"\n    }, toolbar_props)), _meta.form && _meta.form.obj && _meta.form.obj.items ? renderItems.call(this, _meta.form.obj.items, context.customComponents) : /*#__PURE__*/React.createElement(FormGroup, {\n      key: \"data\",\n      className: classes.spaceLeft\n    }, this.renderFields(), this.renderTabularSections()), _attachments && /*#__PURE__*/React.createElement(Dialog, {\n      key: \"attachments\",\n      open: true,\n      noSpace: true,\n      title: `Вложения /${this.ltitle}/`,\n      onClose: _handlers.handleCloseAttachments\n    }, /*#__PURE__*/React.createElement(FrmAttachments, {\n      _obj: _obj,\n      handleClose: _handlers.handleCloseAttachments\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      key: \"bottom\",\n      style: {\n        marginBottom: 8\n      }\n    })] : /*#__PURE__*/React.createElement(LoadingMessage, null);\n  }\n\n}\n\nDataObj.propTypes = {\n  _mgr: PropTypes.object,\n  // DataManager, с которым будет связан компонент\n  _acl: PropTypes.string,\n  // Права на чтение-изменение\n  _meta: PropTypes.object,\n  // Здесь можно переопределить метаданные\n  match: PropTypes.object,\n  // match роутера, из него добываем ref, можно передать fake-объект со ссылкой\n  classes: PropTypes.object,\n  // имена css\n  read_only: PropTypes.bool,\n  // Элемент только для чтения\n  handlers: PropTypes.object.isRequired // обработчики редактирования объекта\n\n};\nexport default DataObj;","import React from 'react';\nimport DataObj from '../FrmObj/DataObj';\nimport withStyles from '../styles/paper600';\nimport { withIface } from 'metadata-redux';\nimport SchemeSettingsTabs from './SchemeSettingsTabs';\nimport LoadingMessage from '../DumbLoader/LoadingMessage';\n\nconst stub = () => null;\n\nclass SchemeSettingsObj extends DataObj {\n  render() {\n    const {\n      _obj\n    } = this.state;\n    return _obj ? /*#__PURE__*/React.createElement(SchemeSettingsTabs, {\n      scheme: _obj,\n      handleSchemeChange: stub,\n      height: this.props.height - 52\n    }) : /*#__PURE__*/React.createElement(LoadingMessage, null);\n  }\n\n}\n\nexport default withStyles(withIface(SchemeSettingsObj));"],"sourceRoot":""}