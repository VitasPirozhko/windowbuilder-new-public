(this["webpackJsonpwindowbuilder-new"]=this["webpackJsonpwindowbuilder-new"]||[]).push([[1],{561:function(e,t,n){"use strict";var a=n(6),r=n(9),o=n(8),l=n(7),s=n(0),i=n.n(s),c=(n(1),n(168)),h=n(219),d=n(170),u=n(540),f=n(562),p=n.n(f),m=n(563),g=n.n(m),_=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={anchorEl:null},e.handleOpen=function(t){e.setState({anchorEl:t.currentTarget})},e.handleClose=function(){e.setState({anchorEl:null})},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.items,a=t.Icon,r=t.text,o=t.handlePrint,l=t.prefix,s=t.variant,f=this.state.anchorEl;return["button"===s?i.a.createElement(d.a,{key:"btn_open",onClick:this.handleOpen},i.a.createElement(a,null)):i.a.createElement(h.a,{key:"".concat(l,"_open"),onClick:this.handleOpen},a&&i.a.createElement(u.a,null,i.a.createElement(a,null)),r),i.a.createElement(c.a,{key:"".concat(l,"_menu"),open:Boolean(f),anchorEl:f,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:this.handleClose},f&&n.map((function(t){return i.a.createElement(h.a,{key:t.ref,onClick:function(){o(t),e.handleClose()}},t.name)})))]}}]),n}(i.a.Component),v=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={anchorEl:null,plates:[]},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.scheme.child_meta()._mgr;t&&t.printing_plates().then((function(t){var n=new Map;for(var a in t){var r=t[a],o=r.name.includes("/")?r.name.substr(0,r.name.indexOf("/")).trim():"\u041e\u0431\u0449\u0435\u0435";n.get(o)||n.set(o,[]),n.get(o).push(r)}t=[],n.forEach((function(e,n){return t.push({name:n,value:e})})),e.setState({plates:t})}))}},{key:"render",value:function(){var e=this.props,t=e.handlePrint,n=e.variant,a=this.state,r=a.anchorEl,o=a.plates;return 1===o.length?i.a.createElement(_,{items:o[0].value,Icon:p.a,text:"\u041f\u0435\u0447\u0430\u0442\u044c",handlePrint:t,prefix:"root",variant:n}):["button"===n?i.a.createElement(d.a,{key:"btn_open",onClick:this.handleOpen},i.a.createElement(p.a,null)):i.a.createElement(h.a,{key:"prn_open",onClick:this.handleOpen},i.a.createElement(u.a,null,i.a.createElement(p.a,null)),"\u041f\u0435\u0447\u0430\u0442\u044c"),i.a.createElement(c.a,{key:"prn_menu",open:Boolean(r),anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:this.handleClose},r&&o.map((function(e,n){return i.a.createElement(_,{key:"prn_".concat(n),items:e.value,Icon:g.a,text:e.name,handlePrint:t,prefix:"prn_".concat(n)})})))]}}]),n}(_);v.propTypes={},t.a=v},563:function(e,t,n){"use strict";var a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),o=(0,a(n(18)).default)(r.default.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");t.default=o},564:function(e,t,n){"use strict";var a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),o=(0,a(n(18)).default)(r.default.createElement("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile");t.default=o},577:function(e,t,n){"use strict";var a=n(6),r=n(9),o=n(26),l=n(8),s=n(7),i=n(0),c=n.n(i),h=(n(1),n(464)),d=n(170),u=n(169),f=n(168),p=n(219),m=n(540),g=n(232),_=n.n(g),v=n(571),w=n.n(v),b=n(243),x=n.n(b),y=n(227),C=n.n(y),E=n(564),S=n.n(E),O=n(230),k=n.n(O),I=n(580),j=n.n(I),R=n(579),M=n.n(R),A=n(578),P=n(570),F=n(584),z=n(43),T=(n(11),n(93)),H=n(492),D=n(561),L=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={anchorEl:void 0,open:!1},e.handleClick=function(t){e.setState({open:!0,anchorEl:t.currentTarget})},e.handleRequestClose=function(){e.setState({open:!1})},e.handleSettingsToggle=function(){var t=Object(o.a)(e).props;t.settings_open?t.handleSettingsClose():t.handleSettingsOpen(),e.handleRequestClose()},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=this.state,n=e.classes,a=e.scheme,r=e.width,o=e.btns,l=e.end_btns,s=e.menu_items,i=e.toolbar2row,g=e.flat,v=e.show_flat,b=e.setting_in_menu,y=Object(H.c)("sm",r);return[c.a.createElement(h.a,{key:"toolbar1",disableGutters:!0,className:n.toolbar},e.selectionMode&&c.a.createElement(u.a,{key:"select",title:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430",size:"small",variant:"outlined",className:n.spaceLeft,onClick:e.handleSelect},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"),!e.denyAddDel&&c.a.createElement(d.a,{key:"create",title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442",onClick:e.handleAdd},c.a.createElement(_.a,null)),c.a.createElement(d.a,{key:"edit",title:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0444\u043e\u0440\u043c\u0443 \u043e\u0431\u044a\u0435\u043a\u0442\u0430",onClick:e.handleEdit},c.a.createElement(x.a,null)),!e.denyAddDel&&!e.denyDel&&c.a.createElement(d.a,{key:"del",title:"\u041f\u043e\u043c\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435",onClick:e.handleRemove},c.a.createElement(w.a,null)),v&&c.a.createElement(d.a,{key:"flat",title:g?"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0438\u0435\u0440\u0430\u0440\u0445\u0438\u044e":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043f\u043b\u043e\u0441\u043a\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",onClick:e.flatChange},g?c.a.createElement(M.a,null):c.a.createElement(j.a,null)),!a.standard_period.empty()&&y&&c.a.createElement(d.a,{disabled:!0},"|"),!a.standard_period.empty()&&y&&c.a.createElement(F.a,{_obj:a,_fld:"date",_meta:{synonym:"\u041f\u0435\u0440\u0438\u043e\u0434"},classes:n,handleChange:e.handleFilterChange}),(!i||y)&&o,c.a.createElement("div",{className:n.flex}),c.a.createElement(A.a,{handleSettingsOpen:e.handleSettingsOpen,handleSettingsClose:e.handleSettingsClose,handleSchemeChange:e.handleSchemeChange,handleFilterChange:e.handleFilterChange,settings_open:e.settings_open,classes:n,scheme:a,show_search:e.show_search&&(!i||y),show_variants:e.show_variants,hide_btn:!y||b}),(!i||y)&&l,c.a.createElement(d.a,{onClick:this.handleClick,title:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e"},c.a.createElement(C.a,null)),c.a.createElement(f.a,{anchorEl:t.anchorEl,open:t.open,onClose:this.handleRequestClose},(!y||b)&&c.a.createElement(p.a,{onClick:this.handleSettingsToggle},c.a.createElement(m.a,null,c.a.createElement(k.a,null)),"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),e.handlePrint&&c.a.createElement(D.a,{scheme:a,handlePrint:e.handlePrint}),e.handleAttachments&&c.a.createElement(p.a,{onClick:e.handleAttachments},c.a.createElement(m.a,null,c.a.createElement(S.a,null)),"\u0412\u043b\u043e\u0436\u0435\u043d\u0438\u044f"),s)),i&&!y&&c.a.createElement(h.a,{key:"toolbar2",disableGutters:!0,className:n.toolbar},o,c.a.createElement("div",{className:n.flex}),l,c.a.createElement(P.a,{scheme:a,handleFilterChange:e.handleFilterChange,isWidthUp:y}))]}}]),n}(i.Component);L.propTypes={},L.defaultProps={show_search:!0},t.a=Object(z.compose)(T.a,Object(H.a)())(L)},579:function(e,t,n){"use strict";var a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),o=(0,a(n(18)).default)(r.default.createElement("path",{d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"}),"List");t.default=o},580:function(e,t,n){"use strict";var a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),o=(0,a(n(18)).default)(r.default.createElement("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}),"AccountTree");t.default=o},685:function(e,t,n){"use strict";n.r(t);var a=n(559),r=n(42),o=n(67),l=n(6),s=n(9),i=n(26),c=n(110),h=n(65),d=n(8),u=n(7),f=n(0),p=n.n(f),m=n(1),g=n.n(m),_=n(560),v=n(25),w=n(569),b=n.n(w),x=n(222),y=n(577),C=n(568),E=n(101),S=n(231);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var k=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e,a){var r;return Object(l.a)(this,n),(r=t.call(this,e,a)).flatChange=function(){r.setState((function(e){return{flat:!e.flat}}),r.handleFilterChange)},r.handleSchemeChange=function(e){var t=Object(i.a)(r),n=t.props,a=n.handlers,o=n._mgr,l=t._meta.fields;if(t._mounted&&e){e.set_default(),a.handleSchemeChange&&a.handleSchemeChange(e);var s=e.rx_columns({mode:"ts",fields:l,_mgr:o});r.handleFilterChange(e,s)}},r.handleFilterChange=function(e,t){var n=Object(i.a)(r),a=n.state,o=n.rows,l=n.fakeRows,s=n.ranges;e instanceof $p.CatScheme_settings||(e=a.scheme),t||(t=a.columns),o.clear(),l.clear(),s.length=0,r.onRowSelect({scheme:e,columns:t,rowCount:0,selectedRow:null},(function(){r.loadMoreRows({startIndex:0,stopIndex:49})}))},r.loadMoreRows=function(e){var t=e.startIndex,n=e.stopIndex,a=Object(i.a)(r),l=a.props,s=l._mgr,c=l._owner,h=l.find_rows,d=a.state,u=d.scheme,f=d.columns,p=d.ref,m=d.scrollSetted,g=d.flat,_=d.parent,v=a.rows,w=a.fakeRows,b=a.ranges;t<0&&(t=0),n<t&&(n=t);var x=n-t;if(x||!v.get(t)){var y,C,E={startIndex:t,stopIndex:n},S=Object(o.a)(b);try{for(S.s();!(C=S.n()).done;){var O=C.value;if(O.stopIndex>=E.stopIndex&&O.startIndex<=E.startIndex)return;O.stopIndex>=E.startIndex&&O.stopIndex<=E.stopIndex&&(O.stopIndex=Math.max(O.stopIndex,E.stopIndex),y=!0),O.startIndex<=E.stopIndex&&O.startIndex>=E.startIndex&&(O.startIndex=Math.min(O.startIndex,E.startIndex),y=!0)}}catch(I){S.e(I)}finally{S.f()}y||b.push(E);for(var k=t;k<n;k++)w.set(k,{});return Promise.resolve().then((function(){var e={no_rows:!1,network_error:null};if(m&&(e.scrollSetted=!1,e.ref=""),r.setState(e),/ram$/.test(s.cachable)||s._direct_loaded||s.direct_load){var a=s.get_search_selector({_obj:c?c._obj||c.props&&c.props._obj:null,_meta:c?c._meta:{},_fld:c&&c.props._fld,search:u._search,skip:t,top:x+1,sorting:u.sorting,flat:g,parent:_});return a.top<25&&(a.top=25),(s.direct_load&&!s._direct_loaded?s.direct_load():Promise.resolve()).then((function(){return $p.utils._find_rows_with_sort.call(s,s.alatable,a)})).then((function(e){var a=e.docs,o=e.count;if(!g&&_&&!t){var l=_;do{a.unshift(l.toJSON()),o++,l=l.parent}while(!l.empty())}for(var s=t;s<=n;s++)w.delete(s);r.updateList(a,t,o),!t&&a.length&&r.setState({selectedRow:r.rows.get(0)},(function(){return r.grid.selectCell({rowIdx:0,idx:0})}))}))}var o={columns:f,skip:t,limit:x+1,_owner:c};o.limit<25&&(o.limit=25);var l=s.mango_selector?s.mango_selector(u,o):u.mango_selector(o);return p&&!m&&(l.ref=p),l._raw=!0,(h?h(l,u):r.fromIndexer(l)).then((function(e){if(r._mounted){for(var a=t;a<=n;a++)w.delete(a);if(Array.isArray(e))r.updateList(e,t);else{var o=e.docs,l=e.scroll,s=(e.flag,e.count);if(r.updateList(o,t,s),p&&!m){r.setState({scrollSetted:!0,ref:""},(function(){r.grid.selectCell({rowIdx:l,idx:0})}))}}}})).catch((function(e){r.setState({network_error:e}),r._mounted&&(r._timer=setTimeout(r.handleFilterChange,2600))}))}))}},r.updateList=function(e,t,n){for(var a=Object(i.a)(r).rows,o=0;o<e.length;o++)a.set(o+t,e[o]);if(r._mounted){void 0===n&&(n=a.size);var l={no_rows:!n,rowCount:n};r.setState(l)}},r.rowGetter=function(e){if(!(e<0)){var t=Object(i.a)(r).rows.get(e);if(!t){var n=Object(i.a)(r),a=n.fakeRows,l=n.ranges,s=n.state.rowCount;if(!a.get(e))if(s&&e>s-25)r.loadMoreRows({startIndex:s-50,stopIndex:s+1});else{var c,h,d=1/0,u=Object(o.a)(l);try{for(u.s();!(h=u.n()).done;){var f=h.value,p=Math.min(Math.abs(f.startIndex-e),Math.abs(f.stopIndex-e));p<d&&(c=f,d=p)}}catch(m){u.e(m)}finally{u.f()}if(c&&e<=c.startIndex)c.startIndex-e<50?r.loadMoreRows({startIndex:c.startIndex-50,stopIndex:c.startIndex}):r.loadMoreRows({startIndex:e-25,stopIndex:e+25+1});else if(c&&e>=c.stopIndex){e-c.stopIndex<50?r.loadMoreRows({startIndex:c.stopIndex,stopIndex:c.stopIndex+50}):r.loadMoreRows({startIndex:e-25,stopIndex:e+25})}else r.loadMoreRows({startIndex:e,stopIndex:e+50})}return a.get(e)}return t}},r.handleSettingsOpen=function(){r.setState({settings_open:!0})},r.handleSettingsClose=function(){r.setState({settings_open:!1})},r.handleConfirmClose=function(){r.setState({confirm_text:""})},r.handleInfoText=function(e){"string"!==typeof e&&(e=""),r.setState({info_text:e})},r.handleSelect=function(){var e=Object(i.a)(r),t=e.selectedRow,n=e.props,a=n.handlers,o=n._mgr,l=e.state,s=l.flat,c=l.parent;e._mounted&&(t?!s&&c&&t.is_folder?r.setState({parent:t.ref==c?c.parent:o.get(t.ref)},(function(){return r.handleFilterChange()})):a.handleSelect&&a.handleSelect(t,o):r.handleInfoText("\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0430"))},r.handleAdd=function(e){var t=r.props,n=t.handlers,a=t._mgr;n.handleAdd&&n.handleAdd(a,e)},r.handleEdit=function(e){return function(){var t=Object(i.a)(r),n=t._meta,a=t.selectedRow,o=t.props,l=o.handlers,s=o._mgr,c=t.state,h=c.flat,d=c.parent;if(!a||$p.utils.is_empty_guid(a.ref))return l.handleIfaceState({component:"",name:"alert",value:{open:!0,text:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0442\u0440\u043e\u043a\u0443 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",title:n.synonym}});!e&&!h&&d&&a.is_folder?r.setState({parent:a.ref==d?d.parent:s.get(a.ref)},(function(){return r.handleFilterChange()})):l.handleEdit&&l.handleEdit({row:a,ref:a.ref,_mgr:s})}},r.handleRemove=function(){var e=Object(i.a)(r),t=e._meta,n=e.selectedRow,a=e.props,o=a.handlers,l=a._mgr;!n||$p.utils.is_empty_guid(n.ref)?o.handleIfaceState({component:"",name:"alert",value:{open:!0,text:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0442\u0440\u043e\u043a\u0443 \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f",title:t.synonym}}):o.handleMarkDeleted&&(r._handleRemove=function(){r.setState({confirm_text:""},(function(){Promise.resolve().then((function(){return o.handleMarkDeleted({row:n,ref:n.ref,_mgr:l})})).then(r.handleFilterChange).catch((function(e){return r.setState({network_error:e})}))}))},r.setState({confirm_text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442?"}))},r.handlePrint=function(e){var t=Object(i.a)(r),n=t.selectedRow,a=t.props._mgr;n&&a.print(n.ref,e)},r.handleAttachments=function(){var e=Object(i.a)(r),t=e.selectedRow,n=e.props,a=n.handlers,o=n._mgr;t&&a.handleAttachments&&a.handleAttachments(t,o)},r.state={selectedRow:null,scrollSetted:!1,rowCount:0,settings_open:!1,network_error:"",no_rows:!1,ref:"",scheme:null,columns:[]},r.rows=new Map,r.fakeRows=new Map,r.ranges=[],r}return Object(s.a)(n,[{key:"componentDidMount",value:function(){Object(c.a)(Object(h.a)(n.prototype),"componentDidMount",this).call(this),this.handleManagerChange(this.props)}},{key:"handleManagerChange",value:function(e){var t=e._mgr,n=e._meta,a=e._ref,r=t.class_name,o=this.props,l=o.flat,s=o.parent,i=o._owner;this._meta=n||t.metadata(),this.show_flat=this._meta.hierarchical;var c={ref:a||"",scrollSetted:!1,flat:l||!this.show_flat,parent:s||t.get()};if(!c.flat&&i&&i.props){var h=(i._obj||i.props&&i.props._obj)[i.props._fld];h&&!h.empty()&&(c.parent=h.parent)}this.setState(c),$p.cat.scheme_settings.get_scheme(r).then(this.handleSchemeChange)}},{key:"fromIndexer",value:function(e){var t=this.props,n=t._mgr,a=t.indexer,r=this.state.scheme;if(!navigator.onLine||!r||!a)return n.find_rows_remote(e);var o=$p.adapters.pouch,l=o.remote.doc,s=o.props._suffix,i=l.__opts.auth,c=i.username,h=i.password;r.append_selection(e);var d={method:"post",credentials:"include",headers:{Authorization:"Basic ".concat(btoa(unescape(encodeURIComponent(c+":"+h)))),suffix:s||"0"},body:JSON.stringify(e)};return fetch("/r/_find",d).then((function(e){return e.status<=201?e.json():e.text().then((function(t){throw new Error("".concat(e.statusText,": ").concat(t))}))})).then((function(e){return e.docs.forEach((function(e){e.ref||(e.ref=e._id.split("|")[1],delete e._id)})),e}))}},{key:"onRowSelect",value:function(e,t){this.setState(e,t),this.props.onRowSelect&&this.props.onRowSelect(e)}},{key:"render",value:function(){var e=this,t=this.state,n=this.props,o=this.context,l=this.sizes,s=this.handleFilterChange,i=this.handleSchemeChange,c=this.Toolbar,h=this.show_flat,d=t.columns,u=t.scheme,f=t.confirm_text,m=t.info_text,g=t.settings_open,_=t.rowCount,v=t.flat,w=n._mgr.RepParams,y=(n.classes,n.title),k=n.registerFilterChange,I=(n.width,n.height,n.GridRenderer,n.rowHeight),j=Object(r.a)(n,["_mgr","classes","title","registerFilterChange","width","height","GridRenderer","rowHeight"]);if(!u)return p.a.createElement(x.a,{text:"\u0427\u0442\u0435\u043d\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u043a\u043e\u043c\u043f\u043e\u043d\u043e\u0432\u043a\u0438..."});if(!d||!d.length)return p.a.createElement(x.a,{text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u043a\u043e\u043c\u043f\u043e\u043d\u043e\u0432\u043a\u0438..."});k&&k(s);var R=!g||l.height>572,M=Object(a.a)(Object(a.a)({scheme:u},j),{},{settings_open:g,flat:v,show_flat:h,flatChange:this.flatChange,handleSelect:this.handleSelect,handleAdd:this.handleAdd,handleEdit:this.handleEdit(!0),handleRemove:this.handleRemove,handlePrint:this.handlePrint,handleSettingsOpen:this.handleSettingsOpen,handleSettingsClose:this.handleSettingsClose,handleSchemeChange:i,handleFilterChange:s});return p.a.createElement("div",null,!o.dnr&&p.a.createElement(S.a,{key:"helmet",title:y},p.a.createElement("meta",{name:"description",content:"\u0424\u043e\u0440\u043c\u0430 \u0441\u043f\u0438\u0441\u043a\u0430"}),p.a.createElement("meta",{property:"og:title",content:y}),p.a.createElement("meta",{property:"og:description",content:"\u0424\u043e\u0440\u043c\u0430 \u0441\u043f\u0438\u0441\u043a\u0430"})),f&&p.a.createElement(E.a,{key:"confirm",title:this._meta.synonym,text:f,handleOk:this._handleRemove,handleCancel:this.handleConfirmClose,open:!0}),m&&p.a.createElement(E.a,{key:"info",title:this._meta.synonym,text:m,handleOk:this.handleInfoText,handleCancel:this.handleInfoText,open:!0}),p.a.createElement(c,O({key:"toolbar"},M)),g&&p.a.createElement(C.a,{key:"settings",height:R?272:(l.height||500)-104,scheme:u,tabParams:w&&p.a.createElement(w,{scheme:u,handleFilterChange:s}),handleSchemeChange:i}),p.a.createElement(b.a,{key:"grid",ref:function(t){return e.grid=t},rowHeight:I||33,minHeight:l.height-50-(g?320:0),minWidth:o.dnr&&Math.max(l.width,l.columnsWidth),cellNavigationMode:"changeRow",columns:d,rowGetter:this.rowGetter,rowsCount:_,onCellDeSelected:function(){return e.onRowSelect({selectedRow:null})},onCellSelected:function(t){return e.onRowSelect({selectedRow:e.rows.get(t.rowIdx)||t.rowIdx})},onRowDoubleClick:n.selectionMode?this.handleSelect:this.handleEdit(),onGridSort:function(t,n){u.first_sorting(t,n),e.handleFilterChange()}}))}},{key:"selectedRow",get:function(){var e=this.state.selectedRow,t=this.rows;return"number"===typeof e?t.get(e):e}},{key:"ltitle",get:function(){var e=this.props._mgr;return"".concat(e.metadata().list_presentation||e.metadata().synonym," (\u0441\u043f\u0438\u0441\u043e\u043a)")}},{key:"Toolbar",get:function(){return y.a}}]),n}(_.a);k.propTypes={_mgr:g.a.object.isRequired,_acl:g.a.string,_meta:g.a.object,_ref:g.a.string,_owner:g.a.object,selectionMode:g.a.bool,read_only:g.a.bool,denyAddDel:g.a.bool,show_search:g.a.bool,show_variants:g.a.bool,modal:g.a.bool,handlers:g.a.object.isRequired},k.defaultProps={denyAddDel:!1,read_only:!1,minHeight:220},k.contextTypes={dnr:g.a.object};var I=Object(v.withIface)(k);t.default=I}}]);
//# sourceMappingURL=1.2867825f.chunk.js.map