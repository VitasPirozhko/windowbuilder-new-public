{"version":3,"sources":["components/MoneyDoc/MoneyDoc.js","../node_modules/@material-ui/icons/Print.js","../node_modules/metadata-react/common/MDNRComponent.js"],"names":["MoneyDoc","DataObj","renderFields","state","_meta","fields","_obj","props","classes","this","row","key","_fld","className","paddingBottom","Object","prototype","hasOwnProperty","call","read_only","renderTabularSections","style","height","_tabular","rname","withStyles","withIface","_interopRequireDefault","require","defineProperty","exports","value","default","_react","_default","createElement","d","MDNRComponent","MComponent","shouldComponentUpdate","_mgr","title","handleIfaceState","res","ltitle","context","handleManagerChange","dnr","ignoreTitle","component","name","width","columns","parseInt","frameRect","columnsWidth","reduce","sum","val","_width","contextTypes","PropTypes","object","customComponents"],"mappings":"kHAAA,+EAgBA,MAAMA,UAAiBC,IAErBC,eACE,MAAOC,OAAQC,OAAO,OAACC,GAAT,KAAkBC,GAAOC,OAAO,QAACC,IAAYC,KAE3D,MAAO,CACL,kBAAC,IAAD,CAAWC,KAAG,EAACC,IAAI,aACjB,kBAAC,IAAD,CAAWL,KAAMA,EAAMM,KAAK,eAC5B,kBAAC,IAAD,CAAWN,KAAMA,EAAMM,KAAK,UAE9B,kBAAC,IAAD,CAAWF,KAAG,EAACC,IAAI,QACjB,kBAAC,IAAD,CAAWL,KAAMA,EAAMM,KAAK,iBAC5B,kBAAC,IAAD,CAAWN,KAAMA,EAAMM,KAAK,YAC5B,kBAAC,IAAD,CAAWN,KAAMA,EAAMM,KAAK,gBAE9B,kBAAC,IAAD,CAAWF,KAAG,EAACC,IAAI,OAAOE,UAAWL,EAAQM,eAC1CC,OAAOC,UAAUC,eAAeC,KAAKb,EAAQ,YAAc,kBAAC,IAAD,CAAWC,KAAMA,EAAMM,KAAK,YACvFG,OAAOC,UAAUC,eAAeC,KAAKb,EAAQ,iBAAmB,kBAAC,IAAD,CAAWC,KAAMA,EAAMM,KAAK,iBAC7F,kBAAC,IAAD,CAAWN,KAAMA,EAAMM,KAAK,gBAC5B,kBAAC,IAAD,CAAWN,KAAMA,EAAMM,KAAK,aAAaO,WAAS,MAKxDC,wBACE,MAAM,KAACd,GAAQG,KAAKN,MAEpB,MAAO,CACL,kBAAC,IAAD,CAAWQ,IAAI,OAAOU,MAAO,CAACC,OAAQ,MACpC,kBAAC,IAAD,CAAgBhB,KAAMA,EAAMiB,SAAS,qBAEvC,kBAAC,IAAD,CAAWZ,IAAI,OAAOL,KAAMA,EAAMM,KAAK,WAK7CZ,EAASwB,MAAQ,WAEFC,sBAAWC,oBAAU1B,K,iCCpDpC,IAAI2B,EAAyBC,EAAQ,IAErCb,OAAOc,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAASN,EAAuBC,EAAQ,IAIxCM,GAAW,EAFMP,EAAuBC,EAAQ,KAElBI,SAASC,EAAOD,QAAQG,cAAc,OAAQ,CAC9EC,EAAG,sJACD,SAEJN,EAAQE,QAAUE,G,iCCjBlB,oEAWe,MAAMG,UAAsBC,IACzCC,uBAAsB,KACpBC,EADoB,MAEpBpC,EAFoB,MAGpBqC,EAHoB,iBAIpBC,IAEA,IAAIC,GAAM,EACV,MAAM,MACJpC,EADI,OAEJqC,EAFI,QAGJC,GACEpC,KAoBJ,OAlBIF,EAAMiC,OAASA,GAAQ/B,KAAKqC,sBAC9BrC,KAAKqC,oBAAoB,CACvBN,OACApC,UAEFuC,GAAM,GAIHE,EAAQE,MAAOH,GAAUH,GAASG,GAAWrC,EAAMyC,cACtDN,GAAoBA,EAAiB,CACnCO,UAAW,GACXC,KAAM,QACNnB,MAAOa,IAETD,GAAM,GAGDA,EAGT,YACE,IACEE,SAAS,IACPE,GAEFxC,OAAO,MACL4C,EADK,OAEL7B,GAEFnB,OAAO,QACLiD,IAEA3C,KAmBJ,OAjBKa,IACHA,EAASyB,GAAOM,SAASN,EAAIO,UAAUhC,QAAU,KAG9CA,GAAUA,EAAS,OACtBA,EAAS,KAGN6B,IACHA,EAAQJ,GAAOM,SAASN,EAAIO,UAAUH,UAGnCA,GAASA,EAAQ,OACpBA,EAAQ,KAIH,CACLA,QACA7B,SACAiC,aAAcH,EAAUA,EAAQI,OAAO,CAACC,EAAKC,IAAQD,EAAMC,EAAIC,OAAQ,GAAKR,IAKlFd,EAAcuB,aAAe,CAC3Bb,IAAKc,IAAUC,OACfC,iBAAkBF,IAAUC","file":"static/js/23.361bb7cd.chunk.js","sourcesContent":["/**\r\n *\r\n *\r\n * @module MoneyDoc\r\n *\r\n * Created by Evgeniy Malyarov on 03.05.2019.\r\n */\r\n\r\nimport React from 'react';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport DataField from 'metadata-react/DataField';\r\nimport TabularSection from 'metadata-react/TabularSection';\r\nimport DataObj from 'metadata-react/FrmObj/DataObj';\r\nimport withStyles from 'metadata-react/styles/paper600';\r\nimport {withIface} from 'metadata-redux';\r\n\r\nclass MoneyDoc extends DataObj {\r\n\r\n  renderFields() {\r\n    const {state: {_meta: {fields}, _obj}, props: {classes}} = this;\r\n\r\n    return [\r\n      <FormGroup row key=\"group_sys\">\r\n        <DataField _obj={_obj} _fld=\"number_doc\"/>\r\n        <DataField _obj={_obj} _fld=\"date\"/>\r\n      </FormGroup>,\r\n      <FormGroup row key=\"row1\">\r\n        <DataField _obj={_obj} _fld=\"organization\"/>\r\n        <DataField _obj={_obj} _fld=\"partner\"/>\r\n        <DataField _obj={_obj} _fld=\"department\"/>\r\n      </FormGroup>,\r\n      <FormGroup row key=\"row2\" className={classes.paddingBottom}>\r\n        {Object.prototype.hasOwnProperty.call(fields, 'cashbox') && <DataField _obj={_obj} _fld=\"cashbox\"/>}\r\n        {Object.prototype.hasOwnProperty.call(fields, 'bank_account') && <DataField _obj={_obj} _fld=\"bank_account\"/>}\r\n        <DataField _obj={_obj} _fld=\"responsible\"/>\r\n        <DataField _obj={_obj} _fld=\"doc_amount\" read_only/>\r\n      </FormGroup>,\r\n    ];\r\n  }\r\n\r\n  renderTabularSections() {\r\n    const {_obj} = this.state;\r\n\r\n    return [\r\n      <FormGroup key=\"rows\" style={{height: 300}}>\r\n        <TabularSection _obj={_obj} _tabular=\"payment_details\"/>\r\n      </FormGroup>,\r\n      <DataField key=\"note\" _obj={_obj} _fld=\"note\"/>\r\n    ];\r\n  }\r\n}\r\n\r\nMoneyDoc.rname = 'MoneyDoc';\r\n\r\nexport default withStyles(withIface(MoneyDoc));\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z\"\n}), 'Print');\n\nexports.default = _default;","/**\n * Компонент\n * - содержит свойство _mounted\n * - знает, размещен ли он в основном дереве react или во всплывающем окне\n * - устанавливает title основного раздела интерфейса\n *\n * Created 11.01.2017\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport MComponent from './MComponent';\nexport default class MDNRComponent extends MComponent {\n  shouldComponentUpdate({\n    _mgr,\n    _meta,\n    title,\n    handleIfaceState\n  }) {\n    let res = true;\n    const {\n      props,\n      ltitle,\n      context\n    } = this; // если изменился менеджер, ищем новые настройки компоновки\n\n    if (props._mgr !== _mgr && this.handleManagerChange) {\n      this.handleManagerChange({\n        _mgr,\n        _meta\n      });\n      res = false;\n    } // если мы не в диалоге, меняем заголовок приложения\n\n\n    if (!context.dnr && ltitle && title != ltitle && !props.ignoreTitle) {\n      handleIfaceState && handleIfaceState({\n        component: '',\n        name: 'title',\n        value: ltitle\n      });\n      res = false;\n    }\n\n    return res;\n  }\n\n  get sizes() {\n    let {\n      context: {\n        dnr\n      },\n      props: {\n        width,\n        height\n      },\n      state: {\n        columns\n      }\n    } = this;\n\n    if (!height) {\n      height = dnr && parseInt(dnr.frameRect.height) - 2;\n    }\n\n    if (!height || height < 320) {\n      height = 320;\n    }\n\n    if (!width) {\n      width = dnr && parseInt(dnr.frameRect.width);\n    }\n\n    if (!width || width < 480) {\n      width = 480;\n    } // горизонтальная прокрутка\n\n\n    return {\n      width,\n      height,\n      columnsWidth: columns ? columns.reduce((sum, val) => sum + val._width, 0) : width\n    };\n  }\n\n}\nMDNRComponent.contextTypes = {\n  dnr: PropTypes.object,\n  customComponents: PropTypes.object\n};"],"sourceRoot":""}