{"version":3,"sources":["components/Help/Route.js"],"names":["MarkdownRoute","props","React","useState","value","setValue","fname","window","location","pathname","replace","startsWith","substr","history","push","fetch","job_prm","docs_root","then","res","text","markdown","catch","err","message"],"mappings":"oNAIe,SAASA,EAAcC,GAAQ,IAAD,EACjBC,IAAMC,SAAS,kIADE,mBACpCC,EADoC,KAC7BC,EAD6B,KAGvCC,EAAQC,OAAOC,SAASC,SAASC,QAAQ,QAAS,IACnDJ,EAAMK,WAAW,KAClBL,EAAQA,EAAMM,OAAO,GAEdN,GACPL,EAAMY,QAAQC,KAAd,UAAsBP,OAAOC,SAASC,SAAtC,MAYF,OATAM,MAAM,GAAD,OADM,GACCC,QAAQC,WAAf,OAA2BX,GAAS,aACtCY,MAAK,SAACC,GACL,OAAOA,EAAIC,UAEZF,MAAK,SAACG,GACLhB,EAASgB,MAEVC,OAAM,SAACC,GAAD,OAASlB,EAASkB,EAAIC,SAAWD,MAEnC,kBAAC,IAAD,CAAcF,SAAUjB","file":"static/js/11.8b6f89e7.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport MarkdownDocs from 'metadata-react/Markdown/MarkdownDocsLight';\r\n\r\nexport default function MarkdownRoute(props) {\r\n  const [value, setValue] = React.useState('Получаем файл с сервера...');\r\n\r\n  let fname = window.location.pathname.replace('/help', '');\r\n  if(fname.startsWith('/')) {\r\n    fname = fname.substr(1);\r\n  }\r\n  else if(!fname) {\r\n    props.history.push(`${window.location.pathname}/`);\r\n  }\r\n  const $p = {}\r\n  fetch(`${$p.job_prm.docs_root}${fname || 'index.md'}`)\r\n    .then((res) => {\r\n      return res.text();\r\n    })\r\n    .then((markdown) => {\r\n      setValue(markdown);\r\n    })\r\n    .catch((err) => setValue(err.message || err));\r\n\r\n  return <MarkdownDocs markdown={value}  />;\r\n}\r\n\r\nMarkdownRoute.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n};\r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}